<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout/page-layout">

<!-- https://www.pgpool.net/docs/pgpoolAdmin/en/config.html : PGPool 2 설정 파일 Ref. -->
<th:block layout:fragment="content-title-fragment">
    <h1 class="h3 mb-0 text-gray-800">동기화 - 데이터베이스</h1>
</th:block>

<th:block layout:fragment="content-breadcrumb-fragment">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a th:href="@{/view/sync/file}">동기화</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">데이터베이스</li>
        </ol>
    </nav>
</th:block>

<th:block layout:fragment="content-body-fragment">
    <div class="row">
        <!-- PGPool 2 설정 : https://www.pgpool.net/docs/pgpoolAdmin/en/nodeServerStatus.html | https://www.pgpool.net/docs/pgpoolAdmin/en/status.html 참고 -->
        <div class="col-xl-5 mb-4">
            <div class="card border-bottom-success shadow h-100 py-2">
                <div class="card-body text-center">
                    <div class="text-sm font-weight-bold text-uppercase mb-1 text-success">
                        <h1 class="fas fa-check-circle"></h1>
                        <p>
                            192.168.XX.YY<br/>
                            STATUS - <span>UP</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-2 my-auto text-center">
            <h3 class="text-center">
                <i class="fas fa-arrow-right"></i>
            </h3>
            <select id="center_list" class="form-control">
                <option value="UO_center">UO 센터</option>
                <option value="O3_center">O3 센터</option>
                <option value="OOO_center">OO사 센터</option>
            </select>
        </div>

        <div class="col-xl-5 mb-4">
            <div class="card border-bottom-success shadow h-100 py-2">
                <div class="card-body text-center">
                    <div class="text-sm font-weight-bold text-uppercase mb-1 text-success">
                        <h1 class="fas fa-check-circle"></h1>
                        <p>
                            192.168.XX.ZZ<br/>
                            STATUS - <span>UP</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- PGPool 2 설정 : https://www.pgpool.net/docs/pgpoolAdmin/en/config.html 참고 -->
        <div class="col-xl-6">
            <h2>PGPool 2 설정</h2>
            <form method="post">
                <div class="form-group">
                    <label for="pgpool_conf">설정 파일</label>
                    <input class="form-control form-control-sm" id="pgpool_conf" name="pgpool_conf" value="/usr/local/etc/pgpool.conf" />
                </div>

                <div class="form-group">
                    <label for="pgpool_password">비밀번호 파일</label>
                    <input class="form-control form-control-sm" id="pgpool_password" name="pgpool_password" value="/usr/local/etc/pcp.conf" />
                </div>

                <div class="form-group">
                    <label for="pgpool_command">명령어 디렉토리</label>
                    <input class="form-control form-control-sm" id="pgpool_command" name="pgpool_command" value="/usr/local/bin/pgpool" />
                </div>

                <div class="form-group">
                    <label for="pgpool_log">로그 파일 저장</label>
                    <input class="form-control form-control-sm" id="pgpool_log" name="pgpool_command" value="/tmp/pgpool.log" />
                </div>

                <div class="form-group">
                    <label for="pgpool_pcp_directory">PCP 디렉토리</label>
                    <input class="form-control form-control-sm" id="pgpool_pcp_directory" name="pgpool_pcp_directory" value="/usr/local/bin" />
                </div>

                <div class="form-group">
                    <label for="pgpool_pcp_hostname">PCP 호스트</label>
                    <input class="form-control form-control-sm" id="pgpool_pcp_hostname" name="pgpool_pcp_hostname" value="localhost" />
                </div>

                <div class="form-group">
                    <label for="pgpool_refresh_time">갱신 주기</label>
                    <input class="form-control form-control-sm" id="pgpool_refresh_time" name="pgpool_refresh_time" value="0" />
                </div>

                <div class="form-group">
                    <label for="pgpool_stop_mode">STOP 모드</label>
                    <select id="pgpool_stop_mode" class="form-control form-control-sm" value="">
                        <option value="">-- 선택 --</option>
                        <option value="smart">SMART</option>
                        <option value="fast">FAST</option>
                        <option value="immediate">IMMEDIATE</option>
                    </select>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="pgpool_query_cache_clear">
                    <label class="form-check-label" for="pgpool_query_cache_clear">
                        Query Cache 비우기 (-c)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="pgpool_demon_mode_cut">
                    <label class="form-check-label" for="pgpool_demon_mode_cut">
                        Demon Mode 에서 차단 (-n)
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="pgpool_debug_mode">
                    <label class="form-check-label" for="pgpool_debug_mode">
                        Debug Mode 에서 차단 (-d)
                    </label>
                </div>

                <div class="text-right">
                    <button class="btn btn-primary" type="submit">
                        <i class="fas fa-save"></i> 저장
                    </button>
                </div>
            </form>
        </div>
        <div class="col-xl-6">
            <h2>PostgreSQL 연결 설정</h2>
            <form method="post">
                <div class="form-group my-1">
                    <label for="type">RDBMS</label>
                    <input id="type" type="text" class="form-control form-control-sm" readonly value="postgresql" />
                </div>

                <div class="form-group my-1">
                    <label for="host">호스트 IP</label>
                    <input id="host" type="text" class="form-control form-control-sm" />
                </div>

                <div class="form-group my-1">
                    <label for="port">포트</label>
                    <input id="port" type="text" class="form-control form-control-sm" />
                </div>

                <div class="form-group my-1">
                    <label for="database">데이터베이스</label>
                    <input id="database" type="text" class="form-control form-control-sm" />
                </div>

                <div class="form-group my-1">
                    <label for="user">사용자 ID</label>
                    <input id="user" type="text" class="form-control form-control-sm" />
                </div>

                <div class="form-group my-1">
                    <label for="password">패스워드</label>
                    <input id="password" type="password" class="form-control form-control-sm" />
                </div>

                <hr/>
                <div class="d-flex justify-content-end">
                    <button class="btn btn-sm btn-info mx-1" type="button" id="jdbc_confirm" onclick="alert('연결 확인 되었습니다.')">
                        <i class="fas fa-check"></i> 연결 확인
                    </button>
                </div>
            </form>
        </div>
    </div>
</th:block>
</html>